(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(72)},38:function(e,t,a){},59:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(13),l=a.n(s),c=a(74),i=(a(38),a(7)),r=a(8),d=a(10),u=a(9),m=a(11),p=a(6),h=a.n(p),f=a(76),E=a(75),v=(a(59),a(73)),g=function(e){return o.a.createElement("div",{className:"quote-card"},o.a.createElement("div",{className:"title"},o.a.createElement("p",null,e.title)))};g.defaultProps={title:"",contents:""};var b=g;b.defaultProps={posts:[]};var N=function(e){return e.posts?o.a.createElement("div",{className:"PostsList"},o.a.createElement("div",null,o.a.createElement("ul",{className:"list"},e.posts.map(function(e){return o.a.createElement(v.a,{to:"/".concat(e.id),id:e.id,key:e.id},o.a.createElement(b,{title:e.title,id:e.id,contents:e.contents,key:e.id}))}).reverse()))):o.a.createElement("div",null,o.a.createElement("h1",null,"Loading Posts..."))},P=a(14),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).addNote=function(e){e.preventDefault(),a.state.title.length<1||a.state.contents.length<1?alert("Please fill out all fields!"):(h.a.post("https://node3-practice.herokuapp.com/api/posts",a.state).then(function(){return a.setState({title:"",contents:""})}).catch(function(e){return console.log(e)}),a.props.history.push("/"),window.scrollTo(0,0))},a.handleInputChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.state={title:"",contents:""},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"PostForm"},o.a.createElement("div",{className:"add-header"}," ",o.a.createElement("h1",null,"Create New Note")),o.a.createElement("form",{onSubmit:this.addNote},o.a.createElement("div",null,o.a.createElement("input",{onChange:this.handleInputChange,placeholder:"Note Title",value:this.state.title,name:"title"})),o.a.createElement("div",null,o.a.createElement("textarea",{onChange:this.handleInputChange,placeholder:"Note Content",value:this.state.contents,name:"contents"})),o.a.createElement("div",null,o.a.createElement("button",{className:"form-submit",type:"submit"},"Save"))))}}]),t}(n.Component),w=function(e){return o.a.createElement("section",{className:"header"},o.a.createElement("h1",null,"Quotable"),o.a.createElement("div",{className:"nav"},o.a.createElement(v.a,{to:"/"},o.a.createElement("div",{className:"view-all"},"My Quotes")),o.a.createElement(v.a,{to:"/create"},o.a.createElement("div",{className:"create-new"},"Create New"))))},y=a(28),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).fetch=function(e){h.a.get("https://node3-practice.herokuapp.com/api/posts/".concat(e)).then(function(e){console.log("PostView",e),a.setState(function(){return{id:e.data[0].id,title:e.data[0].title,contents:e.data[0].contents}})}).catch(function(e){console.dir(e)})},a.toggleEdit=function(e){e.preventDefault(),a.setState({editing:!0})},a.editSubmitHandler=function(e){e.preventDefault(),a.state.title.length<1||a.state.contents.length<1?alert("Field cannot be empty!"):(a.props.editPost({id:a.state.id,title:a.state.title,contents:a.state.contents}),a.setState({editing:!1}))},a.handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.openModal=function(){a.setState({open:!0})},a.closeModal=function(){a.setState({open:!1})},a.delete=function(e){e.preventDefault(),a.props.deletePost(a.state.id),a.props.history.push("/")},a.state={editing:!1,open:!1},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0);var e=this.props.match.params.id;console.log(e),this.fetch(e)}},{key:"render",value:function(){var e=this.state,t=e.open,a=e.title,n=e.contents;return this.state.editing?o.a.createElement("div",{className:"edit-form"},o.a.createElement("div",{className:"edit-head"},o.a.createElement("h1",null,"Edit Note:")),o.a.createElement("form",{onSubmit:this.editSubmitHandler},o.a.createElement("div",null,o.a.createElement("input",{className:"edit-title",name:"title",type:"text",placeholder:"new title",value:a,onChange:this.handleChange})),o.a.createElement("div",null,o.a.createElement("textarea",{className:"edit-body",name:"contents",type:"textarea",placeholder:"new note",value:n,onChange:this.handleChange})),o.a.createElement("div",null,o.a.createElement("button",{className:"form-submit",type:"submit"},"Update")))):o.a.createElement("div",{className:"note-view"},o.a.createElement("div",{className:"svg"}),o.a.createElement("div",{className:"note-title"},this.state.title),o.a.createElement("div",{className:"note-body"},o.a.createElement("p",null,this.state.contents)),o.a.createElement("div",{className:"note-buttons"},o.a.createElement("button",{onClick:this.toggleEdit},"edit"),o.a.createElement("button",{onClick:this.openModal},"delete")),o.a.createElement(y.a,{open:t,onClose:this.closeModal,center:!0,showCloseIcon:!1},o.a.createElement("div",{className:"modal"},o.a.createElement("p",null,"Are you sure you want to delete this?"),o.a.createElement("button",{className:"modal-delete",onClick:this.delete},"Delete"),o.a.createElement("button",{onClick:this.closeModal,className:"modal-no"},"No"))))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).fetchPosts=function(){h.a.get("https://node3-practice.herokuapp.com/api/posts").then(function(e){return a.setState({posts:e.data})}).catch(function(e){return console.log(e)})},a.editPost=function(e){var t=a.state.posts.findIndex(function(t){return t.id===e.id});console.log(t),h.a.put("https://node3-practice.herokuapp.com/api/posts/".concat(e.id),e).then(function(e){a.setState({posts:a.state.posts.splice(t,1,e.data)}),console.log("edited",e)}).catch(function(e){return console.dir(e)})},a.deletePost=function(e){h.a.delete("https://node3-practice.herokuapp.com/api/posts/".concat(e)).then(function(e){console.log("deleted",e)}).catch(function(e){return console.dir(e)})},a.state={posts:[],fPosts:[]},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"componentDidUpdate",value:function(){this.fetchPosts()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"home-view"},o.a.createElement("div",null,o.a.createElement(w,{search:this.search})),o.a.createElement(f.a,null,o.a.createElement(E.a,{exact:!0,path:"/",render:function(t){return o.a.createElement(N,Object.assign({},t,{posts:e.state.fPosts.length>0?e.state.fPosts:e.state.posts,editPost:e.editPost,deletePost:e.deletePost}))}}),o.a.createElement(E.a,{exact:!0,path:"/create",render:function(t){return o.a.createElement(C,Object.assign({},t,{posts:e.state.posts}))}}),o.a.createElement(E.a,{exact:!0,path:"/:id",render:function(t){return o.a.createElement(j,Object.assign({},t,{posts:e.state.posts,editPost:e.editPost,editHandler:e.editHandler,handleChange:e.handleChange,deletePost:e.deletePost}))}}))))}}]),t}(n.Component);l.a.render(o.a.createElement(c.a,null,o.a.createElement(O,null)),document.getElementById("root"))}},[[33,2,1]]]);
//# sourceMappingURL=main.603137b6.chunk.js.map